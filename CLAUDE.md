# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 프로젝트 개요

**한국저시력인협회(KLA) 웹사이트 리뉴얼 프로젝트**

- **대상 사이트**: http://www.lowvision.or.kr/
- **목표**: 저시력인과 그 가족을 위한 접근성 최우선 콘텐츠 허브 구축
- **핵심 사용자**: (1) 저시력인 당사자, (2) 가족 및 보호자

## 핵심 설계 원칙

### 1. 기술적 포용성 (Accessibility First)

이 프로젝트의 최우선 원칙은 **완벽한 웹 접근성**입니다. 모든 코드는 다음 표준을 준수해야 합니다:

#### 필수 준수 표준
- **K-WAH 2.1** (한국형 웹 콘텐츠 접근성 지침)
- **WCAG 2.2 Level AA** (최신 글로벌 접근성 표준)

#### 핵심 접근성 요구사항

| 기준 | 요구사항 | 구현 방법 |
|------|----------|-----------|
| **명암비** | 7:1 (AAA 권장) | 기본 텍스트는 AAA 수준 명암비 적용 |
| **텍스트 크기** | 200% 확대 지원 (WCAG 1.4.4) | `rem` 또는 `em` 단위 사용, `px` 금지 |
| **리플로우** | 320px에서 수평 스크롤 없음 (WCAG 1.4.10) | 반응형 레이아웃, Flexbox/Grid 활용 |
| **텍스트 간격** | CSS 재정의 시 깨짐 방지 (WCAG 1.4.12) | 고정 높이 금지, 유연한 컨테이너 사용 |
| **포커스 가려짐** | 고정 헤더가 포커스를 가리지 않음 (WCAG 2.4.11) | `scroll-padding-top` 사용 |
| **타겟 크기** | 최소 24x24 CSS 픽셀 (WCAG 2.5.8) | 모든 클릭 가능 요소 크기 검증 |
| **키보드 접근성** | 100% 키보드 조작 가능 | 네이티브 HTML 요소 우선 사용 |

#### 금지 사항
- ❌ `outline: none` 또는 `outline: 0` (포커스 인디케이터 제거)
- ❌ `user-scalable=no` (핀치 줌 비활성화)
- ❌ `px` 단위로 폰트 크기 지정
- ❌ `<div>`나 `<span>`에 클릭 이벤트 (시맨틱 HTML 사용)
- ❌ 색상만으로 의미 전달 (텍스트/아이콘 병기 필수)
- ❌ 제3자 접근성 오버레이/위젯 (네이티브 구현 원칙)

#### 필수 구현 기능
- **3가지 테마 모드**: (1) 기본 (흰색/검정), (2) 다크 모드 (검정/흰색), (3) 고대비 모드 (검정/노랑)
- **포커스 인디케이터**: 최소 2px 두께, 고대비
- **랜드마크 역할**: `<nav>`, `<main>`, `<aside>`, `<search>` 명확히 사용
- **라이브 리전**: `role="alert"`, `role="status"` 활용

### 2. 사용자 여정 중심 정보 구조

#### 신규 IA (Information Architecture)

```
1. 저시력 바로 알기 (진단 단계)
   ├─ 저시력이란? (정의, 증상)
   ├─ 원인 질환 (황반변성, 녹내장, 망막색소변성증 등)
   └─ 진단 직후: 무엇을 해야 하나요?

2. 적응과 정서적 지원 (적응 단계)
   ├─ 저시력과 마음 건강 (본인/가족 심리 가이드)
   ├─ 생애주기별 지원 (아동/청년/노인)
   └─ 가족 및 보호자 지원

3. 독립적인 삶과 기술 (일상 단계)
   ├─ 2025+ 최신 보조공학(AT) 가이드
   ├─ 디지털 활용 (PC/모바일 접근성 설정)
   ├─ 재활 및 교육 (보행, 일상생활 훈련)
   └─ 학습 및 직업 (취업/교육 정보)

4. 권리와 복지 혜택 (권리 단계)
   ├─ 한눈에 보는 복지 혜택
   ├─ 법률 및 권익 옹호
   └─ 가족을 위한 재정 계획

5. 협회 및 소식 (커뮤니티)
   ├─ 협회 소개
   ├─ KLA 소식 (구 '통신문')
   ├─ 자료실 및 간행물
   └─ 참여 및 후원
```

**중요**: 조직도 기반의 IA는 절대 사용하지 않습니다. 모든 정보 구조는 사용자의 **[진단] → [적응] → [일상] → [권리]** 여정을 따라야 합니다.

### 3. 핵심 콘텐츠 영역

#### 보조공학(AT) 콘텐츠
- AI 기반 스마트 안경 (Envision Glasses, Meta Ray-Ban)
- AI 웨어러블 (Biped)
- 스마트 지팡이 (WeWALK Smart Cane)
- 저시력 특화 스마트폰 (BlindShell Classic 2)
- 비디오 확대기

**업데이트 주기**: 분기별 1회 (신규 보조공학 기술 반영)

#### 복지/법률 콘텐츠
- 장애인 활동지원 서비스 (2025년 개정 지침 반영)
- 공공 어린이 재활병원 정보
- 장애인권익옹호기관 안내
- 장애인차별금지법

**업데이트 주기**: 연간 1회 (매년 12~1월, 정부 정책 변경 반영)

## 개발 환경 설정 (예상)

이 프로젝트는 아직 초기 단계이므로 기술 스택이 확정되지 않았습니다. 다음 기술을 권장합니다:

### 권장 기술 스택
- **프론트엔드**: React/Next.js (서버사이드 렌더링으로 SEO 및 접근성 향상)
- **스타일링**: CSS-in-JS 또는 Tailwind CSS (테마 시스템 구현 용이)
- **접근성 검증**:
  - `eslint-plugin-jsx-a11y` (개발 중 자동 검증)
  - `axe-core` (자동화된 접근성 테스트)
  - `pa11y` (CI/CD 파이프라인 통합)

### 접근성 테스트 필수 도구
```bash
# 개발 중 실시간 검증
npm install --save-dev eslint-plugin-jsx-a11y

# 자동화된 접근성 테스트
npm install --save-dev @axe-core/react
npm install --save-dev pa11y
```

### 테스트 체크리스트
1. **키보드 탐색**: Tab, Shift+Tab으로 모든 기능 접근 가능
2. **스크린 리더**: NVDA(Windows), VoiceOver(macOS)로 전체 사이트 탐색
3. **텍스트 확대**: 브라우저에서 200% 확대 시 레이아웃 유지 확인
4. **고대비 모드**: 3가지 테마 모드 모두 명암비 검증
5. **모바일**: 320px 너비에서 수평 스크롤 없음 확인

## 벤치마킹 참고 사이트

### 글로벌 리더
- **RNIB (영국)**: 사용자 여정 기반 IA의 완벽한 모델
- **Lighthouse Guild (미국)**: 보조공학 콘텐츠 및 세분화된 페르소나 전략

### 핵심 학습 포인트
- RNIB: "Your eyes" → "Navigating sight loss" → "Practical and emotional support" 여정 구조
- Lighthouse Guild: 'Tele-Support Groups'의 세분화 (부모/청소년/배우자 등)

## 프로젝트 단계별 로드맵

### Phase 1: Foundation Build (D+0 ~ 6개월)
- 신규 IA 및 와이어프레임 확정
- WCAG 2.2(AA) 준수 반응형 웹 템플릿 개발
- 접근성 컨트롤 (테마 전환, 폰트 조절) 구현

### Phase 2: Core Content Launch (D+6 ~ 9개월)
- 핵심 콘텐츠 (보조공학 가이드, 복지 총람) 구축
- 기존 필수 콘텐츠 이관

### Phase 3: Community & Expansion (D+9개월 ~)
- 커뮤니티 기능 (카카오톡 오픈채팅 연동)
- 기존 콘텐츠 재가공 및 순차 발행

## 중요 참고 문서

- **PRD**: `prd.md` (전체 프로젝트 요구사항 및 전략)
- **업로드 설정**: `.vscode-upload.json` (배포 설정)

## 콘텐츠 거버넌스

### 운영 원칙
이 프로젝트는 **지속 가능한 운영**이 핵심입니다. 아무리 훌륭한 사이트도 업데이트되지 않으면 방치됩니다.

### 최소 운영 인력
- **디지털 콘텐츠 매니저** (0.5 FTE 이상)
  - 보조공학 정보: 분기별 업데이트
  - 복지 정책 정보: 연간 업데이트 (12~1월)
  - 커뮤니티 관리: 수시 (카카오톡 등)

## 개발 시 주의사항

### 시맨틱 HTML 우선
```html
<!-- ❌ 나쁜 예 -->
<div onclick="submit()">제출</div>

<!-- ✅ 좋은 예 -->
<button type="submit">제출</button>
```

### 상대 단위 사용
```css
/* ❌ 나쁜 예 */
font-size: 16px;

/* ✅ 좋은 예 */
font-size: 1rem;
line-height: 1.5;
```

### 포커스 가시성
```css
/* ❌ 절대 금지 */
:focus {
  outline: none;
}

/* ✅ 필수 구현 */
:focus {
  outline: 2px solid #000;
  outline-offset: 2px;
}
```

### 고정 헤더 대응
```css
/* ✅ 포커스 가려짐 방지 */
html {
  scroll-padding-top: 80px; /* 헤더 높이 + 여백 */
}
```

## 성공 지표

이 프로젝트의 성공은 다음으로 측정됩니다:

1. **접근성 점수**: WCAG 2.2 AA 100% 준수 (자동화 도구 + 수동 테스트)
2. **사용자 만족도**: 저시력인 및 가족의 정성적 피드백
3. **콘텐츠 신선도**: 보조공학 정보 분기별 업데이트 달성률
4. **트래픽 성장**: 특히 '보조공학', '복지 혜택' 페이지 방문율

## 프로젝트 철학

이 프로젝트는 단순한 웹사이트가 아닙니다. 저시력인과 그 가족이 **가장 먼저 찾는 정보의 원천**이자 **가장 신뢰할 수 있는 지원의 허브**가 되는 것이 목표입니다.

모든 코드 한 줄, 디자인 한 픽셀은 "이것이 저시력인에게 도움이 되는가?"라는 질문에 답할 수 있어야 합니다.
