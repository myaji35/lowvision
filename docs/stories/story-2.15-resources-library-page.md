# Story 2.15: 자료실 페이지

## 스토리 정보
- **Story ID**: 2.15
- **Epic**: Epic 2 - 사용자 여정 기반 콘텐츠 페이지 구축
- **Title**: 커뮤니티 단계 - 자료실 및 간행물
- **Priority**: Medium
- **Status**: Draft
- **Estimated Effort**: 10 Story Points
- **Assigned To**: Dev Team
- **Created**: 2025-11-04
- **Last Updated**: 2025-11-04

## 사용자 스토리

**As a** 저시력인 당사자, 가족, 전문가
**I want** 협회에서 발간한 자료, 가이드, 연구 보고서, 간행물을 쉽게 찾아 다운로드하고
**So that** 필요한 정보를 얻고, 교육/연구에 활용할 수 있다

## 수용 기준 (Acceptance Criteria)

### 필수 요구사항
- [ ] 자료 카테고리 분류 (가이드북, 연구보고서, 간행물, 교육자료, 양식/서식)
- [ ] 자료 목록 페이지 (최신순, pagination)
- [ ] 자료 상세 페이지 (제목, 설명, 발행일, 다운로드)
- [ ] 카테고리별 필터링
- [ ] 검색 기능 (제목, 키워드)
- [ ] 파일 형식별 필터 (PDF, HWP, DOCX, 점자, 오디오북)
- [ ] 인기 자료 Top 10
- [ ] 최신 자료 (최근 3개월)
- [ ] 접근성 있는 자료 명시 (접근 가능한 PDF, 텍스트 추출 가능)
- [ ] WCAG 2.2 AA 접근성 준수
- [ ] 텍스트 200% 확대 시 레이아웃 유지
- [ ] 키보드 네비게이션 100% 지원
- [ ] 모바일/데스크톱 반응형 레이아웃

### 콘텐츠 요구사항
- [ ] 최소 30개 이상의 자료 (초기)
- [ ] 각 자료: 제목, 설명, 카테고리, 발행일, 파일형식, 크기, 다운로드 URL
- [ ] 썸네일 이미지 (책 표지, 문서 미리보기)
- [ ] SEO 메타 태그

## 디자인 요구사항

### 레이아웃
- 상단: 카테고리 탭/필터 + 검색창
- 좌측 사이드바: 파일 형식 필터, 발행 연도 필터
- 메인: 자료 카드 그리드 (3-4열)
- 각 카드: 썸네일, 카테고리 뱃지, 제목, 발행일, 파일 형식, 다운로드 버튼
- 우측 사이드바: 인기 자료 Top 10 (optional)
- Pagination (하단)

### 접근성
- 시맨틱 HTML (`<article>`, `<time>`, `<nav>`)
- 카테고리 필터에 `<nav>` 또는 `role="tablist"` 사용
- 날짜에 `<time datetime="...">` 사용
- 썸네일 이미지에 명확한 대체 텍스트
- 다운로드 버튼에 파일 정보 포함 (ARIA 라벨)
- 접근성 있는 자료에 뱃지/아이콘 표시
- 고대비 모드에서 카테고리 뱃지 구분 명확
- 스크린 리더 친화적 마크업

## 기술 스펙

### 컴포넌트 구조
```
/webapp/src/app/resources/
├── page.tsx                         # 자료 목록 페이지
├── [slug]/
│   └── page.tsx                     # 자료 상세 페이지 (optional)
├── components/
│   ├── CategoryFilter.tsx           # 카테고리 필터
│   ├── SearchBar.tsx                # 검색창
│   ├── FileFormatFilter.tsx         # 파일 형식 필터
│   ├── YearFilter.tsx               # 발행 연도 필터
│   ├── ResourceCard.tsx             # 자료 카드
│   ├── ResourceList.tsx             # 카드 그리드
│   ├── PopularResources.tsx         # 인기 자료 Top 10
│   └── Pagination.tsx               # 페이지네이션
└── data/
    └── resourcesData.ts             # 자료 데이터
```

### 데이터 모델
```typescript
interface Resource {
  id: string;
  slug: string;                      // URL용 slug (SEO)
  category: ResourceCategory;
  title: string;
  description: string;               // 자료 설명 (2-3줄)
  publishedAt: Date;
  publisher: string;                 // '한국저시력인협회'
  author?: string;                   // 저자 (optional)
  thumbnailUrl?: string;             // 썸네일 이미지
  fileFormat: FileFormat;
  fileSize: number;                  // bytes
  downloadUrl: string;
  isAccessible: boolean;             // 접근성 있는 자료 여부
  accessibilityNote?: string;        // 접근성 설명
  isbn?: string;                     // ISBN (책인 경우)
  pages?: number;                    // 페이지 수
  tags?: string[];                   // 태그 (검색용)
  downloads?: number;                // 다운로드 수 (인기 자료 순위용)
}

type ResourceCategory =
  | 'guidebook'         // 가이드북 (저시력 이해, 재활 가이드 등)
  | 'research'          // 연구보고서
  | 'publication'       // 간행물 (통신문, 뉴스레터)
  | 'education'         // 교육자료 (교사용, 부모용)
  | 'form';             // 양식/서식 (신청서, 동의서 등)

type FileFormat =
  | 'pdf'               // PDF
  | 'hwp'               // HWP (한글)
  | 'docx'              // DOCX (워드)
  | 'braille'           // 점자 파일
  | 'audiobook'         // 오디오북 (MP3, M4A)
  | 'epub';             // EPUB (전자책)

interface ResourceListParams {
  category?: ResourceCategory;
  fileFormat?: FileFormat;
  year?: number;
  search?: string;
  page?: number;
  limit?: number;                    // 페이지당 항목 수 (기본 12)
}

interface ResourceListResponse {
  items: Resource[];
  total: number;
  page: number;
  totalPages: number;
}
```

## 콘텐츠 구조 (예시 데이터)

### 가이드북

#### 1. 저시력 이해 가이드북
- **설명**: 저시력의 정의, 원인, 증상, 진단 과정을 쉽게 설명한 가이드북
- **발행일**: 2024-09-01
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF
- **파일 크기**: 8.5MB
- **페이지**: 120페이지
- **접근성**: ✅ 접근 가능한 PDF (텍스트 추출 가능, 스크린 리더 호환)
- **태그**: #저시력 #진단 #재활

---

#### 2. 가족을 위한 저시력 지원 가이드
- **설명**: 저시력인 가족을 위한 실질적인 지원 방법, 의사소통 팁, 복지 혜택 안내
- **발행일**: 2024-07-15
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF, 오디오북
- **파일 크기**: 6.2MB (PDF), 45MB (오디오북)
- **페이지**: 80페이지
- **접근성**: ✅ 접근 가능한 PDF + 오디오북 제공
- **태그**: #가족 #보호자 #지원

---

#### 3. 보행 훈련 매뉴얼
- **설명**: 흰 지팡이 사용법, 실내/실외 보행 기술을 단계별로 설명
- **발행일**: 2024-05-01
- **발행자**: 한국저시력인협회
- **저자**: 김○○ (O&M 전문가)
- **파일 형식**: PDF
- **파일 크기**: 12.3MB
- **페이지**: 150페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #보행훈련 #흰지팡이 #O&M

---

### 연구보고서

#### 4. 2024년 저시력인 실태조사 보고서
- **설명**: 전국 저시력인 1,000명 대상 실태조사 결과 (인구통계, 복지, 고용, 교육)
- **발행일**: 2024-12-01
- **발행자**: 한국저시력인협회 + 보건복지부
- **파일 형식**: PDF, HWP
- **파일 크기**: 15.8MB (PDF), 12.4MB (HWP)
- **페이지**: 250페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #실태조사 #통계 #연구

---

#### 5. 저시력 아동 조기 재활 효과 연구
- **설명**: 만 0-6세 저시력 아동의 조기 재활 효과에 대한 종단 연구
- **발행일**: 2024-08-01
- **발행자**: 한국저시력인협회 + 국립재활원
- **저자**: 박○○ 교수 (○○대학교)
- **파일 형식**: PDF
- **파일 크기**: 9.7MB
- **페이지**: 180페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #아동 #조기재활 #연구

---

### 간행물

#### 6. 저시력인 통신문 (2025년 1월호)
- **설명**: 월간 뉴스레터 (협회 소식, 회원 소식, 정책 동향, 칼럼)
- **발행일**: 2025-01-01
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF, 오디오북
- **파일 크기**: 4.2MB (PDF), 30MB (오디오북)
- **페이지**: 40페이지
- **접근성**: ✅ 접근 가능한 PDF + 오디오북
- **태그**: #통신문 #뉴스레터

---

#### 7. 2024년 협회 연간보고서
- **설명**: 2024년 협회 주요 사업, 재정 보고, 회원 통계
- **발행일**: 2025-01-15
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF
- **파일 크기**: 7.5MB
- **페이지**: 100페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #연간보고서 #사업보고

---

### 교육자료

#### 8. 시각장애 학생 교육 지원 가이드 (교사용)
- **설명**: 일반 학교 교사를 위한 저시력 학생 교육 가이드 (좌석 배치, 교재, 평가)
- **발행일**: 2024-03-01
- **발행자**: 교육부 + 한국저시력인협회
- **파일 형식**: PDF, HWP
- **파일 크기**: 5.8MB (PDF), 4.2MB (HWP)
- **페이지**: 60페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #교사 #교육 #학생

---

#### 9. 저시력 아동 부모 교육 자료집
- **설명**: 부모를 위한 교육 자료 (조기 재활, 양육 팁, 교육 지원 제도)
- **발행일**: 2024-06-01
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF, 점자
- **파일 크기**: 6.5MB (PDF), 3.2MB (점자)
- **페이지**: 90페이지
- **접근성**: ✅ 접근 가능한 PDF + 점자 파일
- **태그**: #부모교육 #아동 #양육

---

### 양식/서식

#### 10. 재활 프로그램 신청서
- **설명**: 협회 재활 프로그램 신청을 위한 양식 (작성 가능한 PDF)
- **발행일**: 2024-01-01
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF (작성 가능), HWP, DOCX
- **파일 크기**: 250KB (PDF), 180KB (HWP), 200KB (DOCX)
- **페이지**: 3페이지
- **접근성**: ✅ 접근 가능한 PDF (양식 필드)
- **태그**: #신청서 #재활 #양식

---

#### 11. 장애인 활동지원 신청서 (샘플)
- **설명**: 국민연금공단 장애인 활동지원 신청서 샘플 (작성 예시 포함)
- **발행일**: 2024-02-01
- **발행자**: 한국저시력인협회
- **파일 형식**: PDF, HWP
- **파일 크기**: 350KB (PDF), 280KB (HWP)
- **페이지**: 5페이지
- **접근성**: ✅ 접근 가능한 PDF
- **태그**: #활동지원 #신청서 #샘플

---

## 주요 기능

### 1. 카테고리 필터링
상단 탭에서 카테고리 선택 시 해당 자료만 표시

**카테고리:**
- 전체 (기본)
- 가이드북
- 연구보고서
- 간행물
- 교육자료
- 양식/서식

---

### 2. 파일 형식 필터 (좌측 사이드바)
사용자가 원하는 파일 형식만 필터링

**파일 형식:**
- PDF
- HWP
- DOCX
- 점자
- 오디오북
- EPUB

---

### 3. 발행 연도 필터 (좌측 사이드바)
최근 5년간 발행 자료 연도별 필터링

**연도:**
- 2025
- 2024
- 2023
- 2022
- 2021 이전

---

### 4. 검색 기능
제목, 설명, 태그에서 키워드 검색

**예시 검색어:**
- "보행"
- "가족"
- "아동"

---

### 5. 인기 자료 Top 10 (우측 사이드바 또는 별도 섹션)
다운로드 수 기준 인기 자료 상위 10개 표시

---

### 6. 접근성 있는 자료 표시
접근 가능한 PDF (텍스트 추출, 스크린 리더 호환) 자료에 뱃지 표시

**뱃지:**
- ✅ 접근 가능
- 🎧 오디오북 제공
- ⠃ 점자 파일 제공

---

### 7. Pagination
페이지당 12개 항목 표시

---

## 상호작용 시나리오

### 시나리오 1: 가이드북 찾기
1. 사용자가 "자료실" 페이지 방문
2. 상단 카테고리에서 "가이드북" 선택
3. 가이드북 목록 표시 (최신순)
4. "저시력 이해 가이드북" 카드 클릭
5. 다운로드 버튼 클릭 → PDF 다운로드

---

### 시나리오 2: 오디오북 자료 찾기
1. 좌측 사이드바 파일 형식 필터에서 "오디오북" 체크
2. 오디오북이 제공되는 자료만 표시
3. "가족을 위한 저시력 지원 가이드" 선택
4. 오디오북 다운로드 (MP3)

---

### 시나리오 3: 신청서 다운로드
1. 상단 카테고리에서 "양식/서식" 선택
2. "재활 프로그램 신청서" 카드 확인
3. 파일 형식 선택 (PDF, HWP, DOCX 중 선택)
4. 다운로드 버튼 클릭

---

### 시나리오 4: 최신 자료 확인
1. 좌측 사이드바 발행 연도 필터에서 "2025" 선택
2. 2025년 발행 자료만 표시
3. "저시력인 통신문 (2025년 1월호)" 다운로드

---

## 접근성 체크리스트

- [ ] 카테고리 필터에 `<nav>` 또는 `role="tablist"` 사용
- [ ] 검색창에 `role="search"` 적용
- [ ] 날짜에 `<time datetime="YYYY-MM-DD">` 사용
- [ ] 자료 카드에 `<article>` 사용
- [ ] 썸네일 이미지에 명확한 대체 텍스트
- [ ] 다운로드 버튼에 파일 정보 포함 (ARIA 라벨)
  - 예: "저시력 이해 가이드북 다운로드 (PDF, 8.5MB)"
- [ ] 접근성 뱃지에 적절한 아이콘 + 텍스트
- [ ] Pagination에 `<nav aria-label="페이지네이션">`
- [ ] 명암비 7:1 달성
- [ ] 고대비 모드에서 카테고리 뱃지 구분 명확
- [ ] 텍스트 200% 확대 테스트 통과
- [ ] 스크린 리더 테스트

---

## 테스트 시나리오

### 접근성 테스트
1. axe DevTools로 자동 검증
2. 키보드만으로 전체 페이지 탐색
3. NVDA로 자료 목록 읽기 (제목, 발행일, 파일 형식)
4. 200% 텍스트 확대 시 레이아웃 확인
5. 고대비 모드에서 뱃지 확인

### 기능 테스트
1. 카테고리 필터 (5개)
2. 파일 형식 필터 (6개)
3. 발행 연도 필터 (5개)
4. 검색 기능
5. Pagination
6. 다운로드 버튼 (실제 파일 다운로드)

### 반응형 테스트
1. 모바일 (320px): 카드 1열, 사이드바 토글
2. 태블릿 (768px): 카드 2열
3. 데스크톱 (1280px+): 카드 3열, 좌우 사이드바

### 브라우저 호환성
- Chrome/Edge (최신 버전)
- Firefox (최신 버전)
- Safari (최신 버전)

---

## 의존성
- Epic 1 Story 1.1-1.3 완료
- shadcn/ui 컴포넌트 (Card, Badge, Button, Checkbox)
- Next.js Image (썸네일 최적화)

---

## 위험 요소
- 자료 파일 스토리지 용량 관리
- 접근 가능한 PDF 제작 시간 소요
- 오디오북 제작 리소스 부족
- 다운로드 수 추적 (분석 도구 필요)

---

## 완료 기준 (Definition of Done)
- [ ] 모든 기능 구현 완료
- [ ] 최소 30개 자료 데이터 입력
- [ ] 접근성 자동 검증 100% 통과
- [ ] 수동 접근성 테스트 통과
- [ ] 모바일/데스크톱 반응형 확인
- [ ] 다운로드 기능 테스트 통과
- [ ] SEO 메타 태그 적용 완료
- [ ] 코드 리뷰 완료
- [ ] PR 머지 완료

---

## 참고 자료
- PRD: `/docs/prd.md`
- Epic 2: `/docs/stories/epic-02-content-pages.md`
- 접근성 가이드: `/CLAUDE.md`
- WCAG 2.2 Guidelines: https://www.w3.org/WAI/WCAG22/quickref/
- PDF 접근성: https://www.adobe.com/accessibility/pdf/pdf-accessibility-overview.html

---

## 노트
- 자료 데이터는 추후 CMS(Epic 3)로 관리 전환 예정
- 초기 버전은 정적 데이터로 구현
- 향후 자료 미리보기 기능 추가 고려
- 다운로드 분석 (Google Analytics 또는 Plausible)
- 자료 평가/리뷰 기능은 Phase 3 이후 고려
- 접근 가능한 PDF 제작 가이드라인 별도 문서화 필요
